(()=>{function o(){document.addEventListener("keydown",function(t){(t.ctrlKey||t.metaKey)&&t.code==="KeyS"&&t.preventDefault()},!1)}function r(){let t;window.addEventListener("load",()=>{t=new i}),window.addEventListener("message",e=>{e.data.command==="renderUnique"&&t.open(e.data.uniqueId,e.data.uniqueContent)}),globalThis.OMathEvent=globalThis.OMathEvent||{},globalThis.OMathEvent.onLinkClick=(e,n)=>{n.preventDefault(),window.parent.postMessage({command:"renderUnique",uniqueId:e.getAttribute("data-preview")||e.getAttribute("href")})}}var i=class{target;content;constructor(){let e=document.querySelector("#preview");this.target=e.querySelector(":scope > article > header > .target"),this.content=e.querySelector(":scope > article > .content"),e.addEventListener("click",n=>{n.target===e&&this.hide()}),e.querySelector(":scope > article > header > i").addEventListener("click",()=>{this.hide()})}open(e,n){this.target.innerHTML=e,this.content.innerHTML=n,globalThis.OMathContent.initProducts(this.content,{}),document.body.classList.add("previewOpen")}hide(){document.body.classList.remove("previewOpen")}};o();r();window.addEventListener("message",t=>{switch(t.data.command){case 0:a();break;case 1:c(t.data.content);break}});function a(){let e=document.documentElement.getAttribute("data-theme")==="light"?"dark":"light";document.documentElement.setAttribute("data-theme",e),document.querySelector('meta[name="color-scheme"]').setAttribute("content",e)}function c(t){let e=document.querySelector("body > article");e.innerHTML=t;let n={};OMathContent.initProducts(e,n)}})();
